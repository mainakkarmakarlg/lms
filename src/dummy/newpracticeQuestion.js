const data = [
  {
    Question: {
      id: 5903,
      question:
        "</tbody>\n    </table>\n</figure>\n<p>\n    Had the company used the first-in, first-out (FIFO) inventory method instead of last-in, first-out (LIFO), the company's 2023 gross profit margin would be closest to:\n</p>",
      score: null,
      averageTime: null,
      difficulty: 5,
      attachment: null,
      questionId: null,
      attribute: "Numerical",
      questionCode: null,
      createdAt: "2025-05-16T12:56:29.641Z",
      updatedAt: "2025-05-16T12:56:29.641Z",
    },
    Questions: [
      {
        optionId: null,
        hasSubmitted: null,
        order: 1,
        attemptId: 380,
        questionId: 5911,
        difficulty: null,
        createdAt: "2025-05-21T06:52:35.063Z",
        updatedAt: "2025-05-21T08:39:14.867Z",
        timeTaken: 504,
        Question: {
          id: 5911,
          question: "kuch v",
          score: null,
          averageTime: null,
          difficulty: 1,
          attachment: null,
          questionId: 5903,
          attribute: "Memory",
          questionCode: null,
          createdAt: "2025-05-16T12:56:32.718Z",
          updatedAt: "2025-05-16T12:56:32.718Z",
          UserFlag: [],
          Report: [],
          Option: [
            {
              id: 14045,
              answer: "Zero.",
              attachment: null,
              questionId: 5911,
            },
            {
              id: 14046,
              answer: "The face value of a risk-free bond.",
              attachment: null,
              questionId: 5911,
            },
            {
              id: 14047,
              answer: "The market value of the underlying asset.",
              attachment: null,
              questionId: 5911,
            },
          ],
          FallNumber: [
            {
              FallNumber: {
                Subject: [
                  {
                    id: 969,
                    fallId: 456,
                    subjectId: 1210,
                    Subject: {
                      id: 1210,
                      name: "B. explain put–call forward parity for European options",
                      order: null,
                      type: "los",
                      subjectId: 1208,
                      Subject: {
                        id: 1208,
                        name: "74. Option Replication Using Put–Call Parity",
                        order: null,
                        type: "chapter",
                        subjectId: 1181,
                        Subject: {
                          id: 1181,
                          name: "Derivatives",
                          order: 7,
                          type: "subject",
                          subjectId: null,
                          Subject: null,
                        },
                      },
                    },
                  },
                ],
              },
            },
          ],
        },
        questionIndex: "1.1",
      },
    ],
    questionIndex: "1",
    optionId: null,
  },
  {
    optionId: null,
    hasSubmitted: null,
    order: 2,
    attemptId: 380,
    questionId: 5912,
    difficulty: null,
    createdAt: "2025-05-21T06:52:35.063Z",
    updatedAt: "2025-05-21T08:30:45.159Z",
    timeTaken: 63,
    Question: {
      id: 5912,
      question:
        "According to put-call-forward parity, the difference between the price of a put and the price of a call is most likely equal to the difference between:",
      score: null,
      averageTime: null,
      difficulty: 1,
      attachment: null,
      questionId: null,
      attribute: "Memory",
      questionCode: null,
      createdAt: "2025-05-16T12:56:33.091Z",
      updatedAt: "2025-05-16T12:56:33.091Z",
      UserFlag: [],
      Report: [],
      Option: [
        {
          id: 14048,
          answer:
            "Forward price and spot price discounted at the risk-free rate.",
          attachment: null,
          questionId: 5912,
        },
        {
          id: 14049,
          answer:
            "Exercise price and forward price discounted at the risk-free rate.",
          attachment: null,
          questionId: 5912,
        },
        {
          id: 14050,
          answer:
            "Spot price and exercise price discounted at the risk-free rate.",
          attachment: null,
          questionId: 5912,
        },
      ],
      FallNumber: [
        {
          FallNumber: {
            Subject: [
              {
                id: 968,
                fallId: 455,
                subjectId: 1209,
                Subject: {
                  id: 1209,
                  name: "A. explain put–call parity for European options",
                  order: null,
                  type: "los",
                  subjectId: 1208,
                  Subject: {
                    id: 1208,
                    name: "74. Option Replication Using Put–Call Parity",
                    order: null,
                    type: "chapter",
                    subjectId: 1181,
                    Subject: {
                      id: 1181,
                      name: "Derivatives",
                      order: 7,
                      type: "subject",
                      subjectId: null,
                      Subject: null,
                    },
                  },
                },
              },
            ],
          },
        },
      ],
    },
    questionIndex: "2",
  },
  {
    optionId: null,
    hasSubmitted: null,
    order: 3,
    attemptId: 380,
    questionId: 5909,
    difficulty: null,
    createdAt: "2025-05-21T06:52:35.063Z",
    updatedAt: "2025-05-21T08:28:36.977Z",
    timeTaken: 3151,
    Question: {
      id: 5909,
      question:
        "According to put-call-forward parity, if the put in a protective put with forward contract expires out of the money, the payoff is most likely equal to:",
      score: null,
      averageTime: null,
      difficulty: 5,
      attachment: null,
      questionId: null,
      attribute: "Concept Memory",
      questionCode: null,
      createdAt: "2025-05-16T12:56:31.980Z",
      updatedAt: "2025-05-16T12:56:31.980Z",
      UserFlag: [],
      Report: [],
      Option: [
        {
          id: 14039,
          answer: "The face value of a risk-free bond.",
          attachment: null,
          questionId: 5909,
        },
        {
          id: 14040,
          answer: "Zero.",
          attachment: null,
          questionId: 5909,
        },
        {
          id: 14041,
          answer: "The market value of the underlying asset.",
          attachment: null,
          questionId: 5909,
        },
      ],
      FallNumber: [
        {
          FallNumber: {
            Subject: [
              {
                id: 969,
                fallId: 456,
                subjectId: 1210,
                Subject: {
                  id: 1210,
                  name: "B. explain put–call forward parity for European options",
                  order: null,
                  type: "los",
                  subjectId: 1208,
                  Subject: {
                    id: 1208,
                    name: "74. Option Replication Using Put–Call Parity",
                    order: null,
                    type: "chapter",
                    subjectId: 1181,
                    Subject: {
                      id: 1181,
                      name: "Derivatives",
                      order: 7,
                      type: "subject",
                      subjectId: null,
                      Subject: null,
                    },
                  },
                },
              },
            ],
          },
        },
      ],
    },
    questionIndex: "3",
  },
];

// function findQuestionById(data, targetId) {
//   if (!data) return null;

//   if (Array.isArray(data)) {
//     for (const item of data) {
//       const result = findQuestionById(item, targetId);
//       if (result) return result;
//     }
//   } else if (typeof data === "object") {
//     // Check for match at this level
//     if (data.questionId === targetId || data.id === targetId) {
//       return data;
//     }

//     // If Questions exist and have elements, go deeper
//     if (Array.isArray(data.Questions) && data.Questions.length > 0) {
//       const result = findQuestionById(data.Questions, targetId);
//       if (result) return result;
//     }

//     // Check other properties (in case structure varies)
//     for (const key in data) {
//       if (key !== "Questions") {
//         const result = findQuestionById(data[key], targetId);
//         if (result) return result;
//       }
//     }
//   }

//   return null;
// }
// const questionIdToFind = 5911; // Change this to the ID you want to find
// const foundQuestion = findQuestionById(data, questionIdToFind);
// console.log(foundQuestion);

function flattenQuestions(data) {
  return data.flatMap((item) => {
    // If the parent has Questions array and it's non-empty, return only children Questions
    if (item.Questions && item.Questions.length > 0) {
      // Return each child question object inside Questions
      return item.Questions.map((child) => child.Question);
    } else {
      // No children, return the parent Question as a single element array
      return [item.Question];
    }
  });
}

const flattenedQuestions = flattenQuestions(data);
console.log(flattenedQuestions);
